# WebBeds Price Tracker - Single Page Application

ุชุทุจูู ูุชูุงูู ูุชุชุจุน ุฃุณุนุงุฑ ุงูููุงุฏู ูู WebBeds ูู ุตูุญุฉ ูุงุญุฏุฉ

## ๐ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. ุตูุญุฉ ูุงุญุฏุฉ ูุชูุงููุฉ (Single Page Application)
- ุชุตููู ูุงุญุฏ ูุญุชูู ุฌููุน ุงูููุฒุงุช
- ูุงุฌูุฉ ุณููุฉ ููุงุถุญุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- ุชููู ุณูุณ ุจูู ุงููุฑุงุญู ุงููุฎุชููุฉ

### 2. ุฎุทูุฉ ุชุณุฌูู ุงูุฏุฎูู (Login Phase)
- โ ุฅุฏุฎุงู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ
  - ุงูุงูุชุฑุงุถู: `Mada.Tourism` / `MadaTourism@2020`
- โ ุงูุชุธุงุฑ ุฑูุฒ ุงูุชุฃููุฏ 2FA ูุฅุฏุฎุงูู
- โ ุงูุฑุจุท ูุน OAuth ูู WebBeds
- โ ุฑูุน ููู ุฌูุณุฉ ูุญููุธ (JSON) ูุจุฏูู
- โ ุนุฑุถ ุญุงูุฉ ุงูุฌูุณุฉ ูุงูุฃูุงู ุงููุชุจููุฉ

### 3. ุฎุทูุฉ ุงูุจุญุซ ูุงูููุงุฑูุฉ (Search Phase)
- โ ูุงุฆูุฉ ููุงุฏู ูุญููุธุฉ ูุน ุฅููุงููุฉ ุฅุถุงูุฉ ููุฏู ุฌุฏูุฏ
- โ ุชุงุฑูุฎ ุงูุฏุฎูู ูุงููุบุงุฏุฑุฉ (Date Picker)
- โ ุฎูุงุฑุงุช ุงูุจุญุซ:
  - **ุงูุจุญุซ ุจุงููุชุฑุฉ ูุงููุฉ**: ูู 01/01/2026 ุฅูู 30/01/2026
  - **ุงูุจุญุซ ูููุฉ ุจูููุฉ**: ูู 01/01/2026 ุฅูู 02/01/2026
- โ ุงููุชุงุฆุฌ ุชุธูุฑ ุจุดูู ุฌุฏูู ููุถุญ:
  - ุงูุชุงุฑูุฎ (ูู - ุฅูู)
  - ุฃูู ุณุนุฑ
  - ุญุงูุฉ ุงูููุงุฑูุฉ (ุฑุงุจุญ / ุฎุงุณุฑ / ูุชุณุงูู)

### 4. ุฑุจุท ุงูุจุญุซ ูุน WebBeds
- โ ุงุณุชุฎุฑุงุฌ ูุนุฑูู ุงูููุฏู ูู ุงูุจุญุซ ุงูุฃูู
- โ ุจูุงุก ุฑุงุจุท ุงูุจุญุซ ุงูุฏููุงูููู:
```
https://www.dotwconnect.com/interface/en/accommodation/hotel-details/[HOTEL_ID]?destination=[HOTEL_NAME]&PSearchId=[HOTEL_ID]&DateFrom=[DD%2FMM%2FYYYY]&dateFrom=[YYYY-MM-DD]&DateTo=[DD%2FMM%2FYYYY]&dateTo=[YYYY-MM-DD]&numberOfNights=1&roomsNo=1&adultsCount%5B1%5D=2&childrenCount%5B1%5D=0
```
- โ ุงุณุชุฎุฑุงุฌ ุงูุณุนุฑ ูู ุตูุญุฉ ุงููุชุงุฆุฌ ุชููุงุฆูุงู

### 5. ุชุฎุฒูู ุงูุจูุงูุงุช
- โ ุญูุธ ุงูููุงุฏู ุงููุถุงูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุญูุธ ูุชุงุฆุฌ ุงูุจุญุซ ูุงูุฃุณุนุงุฑ
- โ ุญูุธ ุฌูุณุฉ WebBeds (ูุดูุฑุฉ)

### 6. ุงููุฒุงูุง ุงูุฅุถุงููุฉ
- โ ุนุฑุถ ุณุฌู ุงูุจุญุซ ุงูุณุงุจูุฉ
- โ ุชุตุฏูุฑ ุงููุชุงุฆุฌ (CSV)
- ๐ ููุงุฑูุฉ ุงูุฃุณุนุงุฑ ุจูู ูุชุฑุงุช ูุฎุชููุฉ (ููุฏ ุงูุชุทููุฑ)
- ๐ ุชูุจููุงุช ุนูุฏ ุงูุฎูุงุถ ุงูุฃุณุนุงุฑ (ููุฏ ุงูุชุทููุฑ)
- ๐ ุชุตุฏูุฑ ุงููุชุงุฆุฌ (PDF) (ููุฏ ุงูุชุทููุฑ)

## ๐ ูููู ุงููููุงุช ุงูุฌุฏูุฏุฉ

```
client/src/pages/
โโโ WebBedsTracker.tsx        # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุงูููุญุฏุฉ

server/scraper/
โโโ puppeteer-scraper.ts      # ูุญุณูู ูุน ุงุณุชุฎุฑุงุฌ ูุนุฑู ุงูููุฏู ูุงูุฑูุงุจุท ุงูุฏููุงููููุฉ

server/routers/
โโโ scraper.ts                # ุฅุถุงูุฉ addHotel procedure
```

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุชุดุบูู ุงูุชุทุจูู
```bash
# ุชุซุจูุช ุงููุชุทูุจุงุช
pnpm install

# ุชุดุบูู ูุถุน ุงูุชุทููุฑ
pnpm run dev

# ุจูุงุก ููุฅูุชุงุฌ
pnpm run build
pnpm start
```

### 2. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
ุฅูุดุงุก ููู `.env` ูู ุงููุฌูุฏ ุงูุฌุฐุฑ:

```env
# WebBeds Credentials (ูุฎุฒูุฉ ูุดูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)
WEBBEDS_USERNAME=Mada.Tourism
WEBBEDS_PASSWORD=MadaTourism@2020

# Database Configuration
DATABASE_URL=mysql://user:password@localhost:3306/webbeds

# Encryption Key
ENCRYPTION_KEY=your-secret-encryption-key-here

# Session Configuration
SESSION_SECRET=your-session-secret-here
```

### 3. ุงุณุชุฎุฏุงู ุงูุชุทุจูู

#### ุงููุฑุญูุฉ 1: ุชุณุฌูู ุงูุฏุฎูู
1. ุงูุชุญ ุงูุชุทุจูู ุนูู `http://localhost:3000`
2. ุฃุฏุฎู ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ (ุงูุชุฑุงุถูุงู `Mada.Tourism` / `MadaTourism@2020`)
3. ุงููุฑ ุนูู "ุชุณุฌูู ุงูุฏุฎูู"
4. ุฃุฏุฎู ุฑูุฒ ุงูุชุญูู 2FA ุนูุฏ ุทูุจู
5. **ุฃู** ุงุฑูุน ููู ุฌูุณุฉ ูุญููุธ ุณุงุจูุงู

#### ุงููุฑุญูุฉ 2: ุงูุจุญุซ
1. ุฃุถู ููุฏูุงู ุฌุฏูุฏุงู ุฃู ุงุฎุชุฑ ูู ุงููุงุฆูุฉ
2. ุญุฏุฏ ุชูุงุฑูุฎ ุงูุฏุฎูู ูุงููุบุงุฏุฑุฉ
3. ุงุฎุชุฑ ููุน ุงูุจุญุซ (ูุชุฑุฉ ูุงููุฉ ุฃู ูููุฉ ุจูููุฉ)
4. ุงููุฑ ุนูู "ุงูุจุญุซ ุนู ุงูุฃุณุนุงุฑ"
5. ุดุงูุฏ ุงููุชุงุฆุฌ ูู ุงูุฌุฏูู
6. ุตุฏูุฑ ุงููุชุงุฆุฌ ุฅูู CSV ุนูุฏ ุงูุญุงุฌุฉ

## ๐จ ููุทุงุช ุงูุดุงุดุฉ

### ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ - ูุฑุญูุฉ ุชุณุฌูู ุงูุฏุฎูู
![Login Phase](https://github.com/user-attachments/assets/64121d7a-734b-40f1-b619-1a59f202a253)

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงููุณุชุฎุฏูุฉ
- `users` - ูุนูููุงุช ุงููุณุชุฎุฏููู
- `hotels` - ูุงุฆูุฉ ุงูููุงุฏู ุงููุญููุธุฉ
- `priceHistory` - ุณุฌู ุงูุฃุณุนุงุฑ
- `webbedCredentials` - ุจูุงูุงุช ุงูุงุนุชูุงุฏ ุงููุดูุฑุฉ
- `syncLogs` - ุณุฌู ุนูููุงุช ุงูุจุญุซ
- `userPrices` - ุฃุณุนุงุฑ ุงููุณุชุฎุฏู ุงูุฎุงุตุฉ
- `priceAlerts` - ุงูุชูุจููุงุช

## ๐ ุงูุฃูุงู

- ุฌููุน ุจูุงูุงุช ุงูุงุนุชูุงุฏ ูุดูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฌูุณุงุช WebBeds ูุญููุธุฉ ุจุดูู ุขูู
- ุญูุงูุฉ API ุจูุธุงู ุงููุตุงุฏูุฉ
- ุชุดููุฑ AES-256 ููููุงุช ุงููุฑูุฑ

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Frontend
- **React 19** - ููุชุจุฉ UI
- **TypeScript** - ูุบุฉ ุงูุจุฑูุฌุฉ
- **Tailwind CSS** - ุชูุณูู ุงููุงุฌูุฉ
- **tRPC** - ุงูุชูุงุตู ูุน ุงูุฎุงุฏู
- **React Query** - ุฅุฏุงุฑุฉ ุงูุญุงูุฉ ูุงูุทูุจุงุช

### Backend
- **Node.js** - ุจูุฆุฉ ุงูุชุดุบูู
- **Express** - ุฎุงุฏู ุงูููุจ
- **tRPC** - ูุงุฌูุฉ ุจุฑูุฌูุฉ ุขููุฉ
- **Puppeteer** - ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ูู WebBeds
- **Drizzle ORM** - ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### Database
- **MySQL** - ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **Drizzle ORM** - ุทุจูุฉ ุงููุตูู ููุจูุงูุงุช

## ๐ ููุงุญุธุงุช ุงูุชุทููุฑ

### ุชุญุณููุงุช ูุณุชูุจููุฉ
- [ ] ุฅุถุงูุฉ ูุธุงู ุชูุจููุงุช ููุฑู ุนูุฏ ุงูุฎูุงุถ ุงูุฃุณุนุงุฑ
- [ ] ุฅุถุงูุฉ ุฑุณูู ุจูุงููุฉ ูุชุชุจุน ุงูุฃุณุนุงุฑ
- [ ] ุฅุถุงูุฉ ุชุตุฏูุฑ PDF
- [ ] ุชุญุณูู ูุงุฌูุฉ ุงูููุงุฑูุฉ ุจูู ุงููุชุฑุงุช
- [ ] ุฅุถุงูุฉ ุฏุนู ููุฏู ุฃุฎุฑู ุบูุฑ ููุฉ

### ุงููุดุงูู ุงููุนุฑููุฉ
- ูุชุทูุจ ุงูุชุทุจูู ูุตุงุฏูุฉ ูููุตูู ุฅูู tRPC endpoints
- ุจุนุถ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงุฎุชูุงุฑูุฉ ูููู ูููุตุญ ุจุชุนููููุง

## ๐ ุงูุฏุนู

ููุญุตูู ุนูู ุงููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงููุ ูุฑุฌู ูุชุญ issue ูู ุงููุณุชูุฏุน.

## ๐ ุงูุชุฑุฎูุต

MIT License - ููููู ุงุณุชุฎุฏุงู ุงูุชุทุจูู ุจุญุฑูุฉ
